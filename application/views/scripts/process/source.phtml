<div class="controls">
<?= $this->tabs ?>
  <h1><?= $this->escape($this->title) ?>
  <a href="<?= $this->url()->without('mode') ?>" title="<?= $this->escape('Switch to tree view') ?>" style="float: right"><?= $this->icon('sitemap') ?></a>
  <?= $this->render('simulationlink.phtml') ?>
  <?= $this->render('editlink.phtml') ?>
  </h1>
</div>

<div class="content" data-base-target="_next">
<pre>
<?php

$cnt = 0;
$lines = preg_split('~\r?\n~', $this->source);
$len = ceil(log(count($lines), 10));

foreach ($lines as $line) {
    $cnt++;
    printf("%0" . $len . "d: %s\n", $cnt, $this->escape($line));
}

?>
</pre>
</div>
